<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <style>
    .img-wrap {
      position: relative;
      width: 120px;
      height: 120px;
    }
    .img-wrap .close {
      position: absolute;
      top: 2px;
      right: 2px;
      z-index: 100;
    }
  </style>
  <title>Edit post</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container py-3">
  <header th:insert="/blocks/header :: header"></header>

  <div class="container mt-5 mb-5" th:if="${user.id == post.author.id}">
    <h1>Edit</h1>
    <form th:action="'/blog/' + ${post.id} + '/edit'" method="post" enctype="multipart/form-data">
      <input type="text" th:value="${post.title}" name="title" placeholder="Type post title" class="form-control" /><br>
      <input type="text" th:value="${post.anons}" name="anons" placeholder="Type post anons" class="form-control" /><br>
      <textarea name="full_text" th:text="${post.full_text}" placeholder="Type post content" class="form-control" /><br>
    <!--  <div class="img-wrap" th:each="file : ${files}" >
        <a th:href="@{/blog/edit/deletePhoto/{id}(id=${file.id})}"><span class="close">&times;</span></a>
      </div>-->
        <img class='img-thumbnail' th:each="file : ${files}" src="/img/${file.name}/" />
      <input type="file" name="files" multiple="multiple" />
      <button type="submit" class="btn btn-success">Edit post</button>
    </form>
  </div>

  <p th:if="${user.id != post.author.id}">
    You don't have rights to editing this post!
  </p>

  <footer th:insert="blocks/footer :: footer"></footer>
</div>
</body>
</html>