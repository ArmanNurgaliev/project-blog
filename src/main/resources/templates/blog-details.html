<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
   <style>
       .comment:hover {
           color: blue;
       }
   </style>
  <title>Blog</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container py-3">
  <header th:insert="/blocks/header :: header"></header>

  <div class="container mt-5">
   <div class="alert alert-info mt-2">
       <div style="display:grid; grid-template-columns: 86% 7% 7%;">
          <h3 th:text="${post.title}" />
           <a style="height: 35px;" th:if="${user.id == post.author.id}" th:href="'/blog/' + ${post.id} + '/edit'" class="btn btn-warning">Edit</a>
           <form style="padding-left: 2px;" th:if="${user.id == post.author.id}" th:action="'/blog/' + ${id} + '/remove'" method="post">
               <button style="height: 35px;" type="submit" class="btn btn-warning">Delete</button>
           </form>
       </div>

      <p th:text="${post.full_text}" />
       <p>
           <img th:each="file : ${files}" class='img-thumbnail' src="/img/${file.name}/" width="120" height="120" />
       </p>

           <div style="text-align: left;" class="p-2 action-collapse" data-toggle="collapse" aria-expanded="true" aria-controls="collapse-1" href="#collapse-1"><i class="fa fa-commenting-o"></i><span class="comment ml-1">Reply</span></div>
           <div id="collapse-1" class="collapse" data-parent="#myGroup">
               <form method="post" th:action="'/comment/add/' + ${post.id}" class="d-flex flex-row align-items-start">
                   <textarea name="text" class="form-control ml-1 shadow-none textarea"></textarea>
                   <div class="mt-2">
                       <button class="btn btn-primary btn-sm shadow-none" type="submit">Post comment</button>
                   </div>
               </form>
          </div>
  </div>

<!--TODO: add comments form and subcomments -->

  <footer th:insert="blocks/footer :: footer"></footer>
</div>
</div>
</body>
</html>